schemas:
  Buyer:
    type: object
    required:
      - id
      - name
      - userId
      - createdAt
      - updatedAt
    properties:
      id:
        type: integer
      name:
        type: string
      userId:
        type: integer
      createdAt:
        type: string
        format: date-time
      updatedAt:
        type: string
        format: date-time

  CreateBuyer:
    type: object
    required:
      - name
    properties:
      name:
        type: string

  UpdateBuyer:
    type: object
    properties:
      name:
        type: string

  BuyersList:
    type: object
    required:
      - buyers
    properties:
      buyers:
        type: array
        items:
          $ref: '#/schemas/Buyer'

getAllBuyers:
  summary: Get all buyers for current user
  security:
    - bearerAuth: []
  responses:
    '200':
      description: List of buyers
      content:
        application/json:
          schema:
            $ref: '#/schemas/BuyersList'
    '401':
      $ref: '../shared/responses.yaml#/UnauthorizedError'

getBuyerById:
  summary: Get a buyer by id
  security:
    - bearerAuth: []
  parameters:
    - name: buyerId
      in: path
      required: true
      schema:
        type: integer
  responses:
    '200':
      description: Buyer
      content:
        application/json:
          schema:
            type: object
            properties:
              buyer:
                $ref: '#/schemas/Buyer'
    '401':
      $ref: '../shared/responses.yaml#/UnauthorizedError'
    '404':
      $ref: '../shared/responses.yaml#/NotFoundError'

createBuyer:
  summary: Create a new buyer
  security:
    - bearerAuth: []
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '#/schemas/CreateBuyer'
  responses:
    '201':
      description: Buyer created successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              buyer:
                $ref: '#/schemas/Buyer'
    '401':
      $ref: '../shared/responses.yaml#/UnauthorizedError'
    '422':
      $ref: '../shared/responses.yaml#/BadRequestError'

updateBuyer:
  summary: Update a buyer
  security:
    - bearerAuth: []
  parameters:
    - name: buyerId
      in: path
      required: true
      schema:
        type: integer
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '#/schemas/UpdateBuyer'
  responses:
    '200':
      description: Buyer updated successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              buyer:
                $ref: '#/schemas/Buyer'
    '401':
      $ref: '../shared/responses.yaml#/UnauthorizedError'
    '404':
      $ref: '../shared/responses.yaml#/NotFoundError'
    '422':
      $ref: '../shared/responses.yaml#/BadRequestError'

deleteBuyer:
  summary: Delete a buyer
  security:
    - bearerAuth: []
  parameters:
    - name: buyerId
      in: path
      required: true
      schema:
        type: integer
  responses:
    '200':
      description: Buyer deleted successfully
    '401':
      $ref: '../shared/responses.yaml#/UnauthorizedError'
    '404':
      $ref: '../shared/responses.yaml#/NotFoundError' 