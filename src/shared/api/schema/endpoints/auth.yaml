schemas:
  User:
    type: object
    required:
      - id
      - email
    properties:
      id:
        type: string
      email:
        type: string
        format: email
      first_name:
        type: string
      last_name:
        type: string
      phone_number:
        type: string
      role:
        type: string
        enum: [user, manager, admin]

  LoginRequest:
    type: object
    required:
      - email
      - password
    properties:
      email:
        type: string
        format: email
      password:
        type: string
        format: password

  DeviseLoginRequest:
    type: object
    required:
      - user
    properties:
      user:
        type: object
        required:
          - email
          - password
        properties:
          email:
            type: string
            format: email
          password:
            type: string
            format: password

signIn:
  summary: Login user
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '#/schemas/DeviseLoginRequest'
  responses:
    '200':
      description: Login successful
      headers:
        Authorization:
          description: 'Bearer token for authentication'
          schema:
            type: string
      content:
        application/json:
          schema:
            $ref: '#/schemas/User'
    '401':
      $ref: '../shared/responses.yaml#/UnauthorizedError'

signOut:
  summary: Logout user
  responses:
    '200':
      description: Logout successful
    '401':
      $ref: '../shared/responses.yaml#/UnauthorizedError'
