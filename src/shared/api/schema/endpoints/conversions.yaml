getAllConversions:
  summary: Get all conversions
  operationId: getAllConversions
  tags:
    - Conversions
  parameters:
    - name: aasm_state
      in: query
      required: false
      schema:
        type: string
        enum: [pending, approved, rejected, confirmed, paid, cancelled]
    - name: convertible_type
      in: query
      required: false
      schema:
        type: string
        enum: [Click, PromoCode]
    - name: convertible_id
      in: query
      required: false
      schema:
        type: integer
    - name: min_cost
      in: query
      required: false
      schema:
        type: number
    - name: max_cost
      in: query
      required: false
      schema:
        type: number
    - name: high_value
      in: query
      required: false
      schema:
        type: boolean
    - name: date_from
      in: query
      required: false
      schema:
        type: string
        format: date
    - name: date_to
      in: query
      required: false
      schema:
        type: string
        format: date
  responses:
    "200":
      description: A list of conversions
      content:
        application/json:
          schema:
            type: object
            properties:
              conversions:
                type: array
                items:
                  $ref: "#/components/schemas/ConversionRecord"
              pagination:
                type: object
                properties:
                  current_page:
                    type: integer
                  next_page:
                    type: integer
                    nullable: true
                  prev_page:
                    type: integer
                    nullable: true
                  total_pages:
                    type: integer
                  total_count:
                    type: integer
              stats:
                type: object
    "401":
      $ref: "../shared/responses.yaml#/UnauthorizedError"

components:
  schemas:
    ConversionRecord:
      type: object
      properties:
        id:
          type: integer
        aasm_state:
          type: string
        cost:
          type: number
          format: float
        convertible_type:
          type: string
        convertible_id:
          type: integer
        convertible_info:
          type: object
        sub_ids:
          type: object
        is_high_value:
          type: boolean
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time 